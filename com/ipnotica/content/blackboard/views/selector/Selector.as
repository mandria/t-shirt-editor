/** * Selection between all the tshirts. Probably this info should be placed into * the setting file, so that when you click you put it over ther and who needs  * it can use it. *  **/  package com.ipnotica.content.blackboard.views.selector { 		import com.ipnotica.utils.Config;
	import com.ipnotica.utils.Utils;
	
	import flash.display.MovieClip;
	import flash.events.Event;
	import flash.events.MouseEvent;
	import flash.text.TextField;	public class Selector extends MovieClip {				public var left:MovieClip;		public var right:MovieClip;		public var label:TextField;				public var index:uint = 1;			/**< default visible view (as the first is visible, we need to set the secon index of the array) */				public function Selector() {			super();			label.visible = false;		}				public function init():void {			(Config.views.length() > 1) ? activateNavigation() : deactivateNavigation();			initLabel();		}				/** 		 * Activate navigation system 		 **/		private function activateNavigation():void {			left.buttonMode = right.buttonMode = true;			initEvents();		}					private function initEvents():void {			initOverEvents();			initClickEvents();		}		// mouse over effect		private function initOverEvents():void {			left.addEventListener(MouseEvent.MOUSE_OVER,  onOverLeft);			left.addEventListener(MouseEvent.MOUSE_OUT,   onOutLeft);			right.addEventListener(MouseEvent.MOUSE_OVER, onOverRight);			right.addEventListener(MouseEvent.MOUSE_OUT,  onOutRight);		}				private function onOverLeft(e:Event):void  { left.gotoAndStop(2);  }; 		private function onOutLeft(e:Event):void   { left.gotoAndStop(1);  }; 		private function onOverRight(e:Event):void { right.gotoAndStop(2); }; 		private function onOutRight(e:Event):void  { right.gotoAndStop(1); }; 		 				// mouse click view changes		private function initClickEvents():void {			left.addEventListener(MouseEvent.CLICK, onLeftClick);			right.addEventListener(MouseEvent.CLICK, onRightClick);		}				public function onLeftClick(e:Event):void {			index--;			setViewConfigurations();			setViewImages();			initLabel();		}				public function onRightClick(e:Event):void {			index++;			setViewConfigurations();			setViewImages();			initLabel();		}				private function setViewConfigurations():void {			var viewIndex:uint    = Math.abs(index % Config.views.length());			var productIndex:uint = ((viewIndex -1) < 0) ? Config.views.length() - 1 : viewIndex -1;			Config.visibleViewID = Config.views[viewIndex].@id;			Config.visibleProductID = Config.views[productIndex].@id;			trace(Config.visibleProductID, Config.visibleViewID, "---", index, index % Config.views.length(), (index-1) % Config.views.length());		}				private function setViewImages():void {			Config.body.content.blackboard.products.showSelectedView();			Config.body.content.blackboard.views.showSelectedView();		}						/** 		 * Deactivate navigation system		 **/		 private function deactivateNavigation():void {		 	left.gotoAndStop(3);			right.gotoAndStop(3);		 }		 		 		 /** Init the label content */		private function initLabel():void {			label.text = Utils.findView(Config.visibleViewID).@description;			label.visible = true;		}			}}