package com.ipnotica.menu.content.slider.thumbproduct.colors {		import com.ipnotica.menu.content.slider.thumbproduct.ThumbProduct;	import com.ipnotica.utils.Config;	import com.ipnotica.utils.Utils;		import flash.display.Bitmap;	import flash.display.Loader;	import flash.display.LoaderInfo;	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.IOErrorEvent;	import flash.events.MouseEvent;	import flash.net.URLRequest;
		public class ColorBox extends MovieClip	{						// VISUAL		public var image:ColorBoxImage;				// INSTANCE		public var product:XML;						/********		 * INIT		 ********/				public function ColorBox(product:XML) {			super();			this.product = product;			init();		}				private function init():void {			initVisuals();			initEvents();		}						/**********		 * VISUALS		 **********/				private function initVisuals():void {			buttonMode = true;			initImage();		}				// calculate path iconic color		public function initImage():void {			var path:String = product.colore.node.node.path.text() + product.colore.node.node.filename.text(); 			loadImage(path);		}				// load iconic color		private function loadImage(path:String):void {			trace("--> ", path);			var url:String = Config.flashvars.httpDomain + Config.flashvars.assets + "images/products/" + path;			var loader:Loader = new Loader();			loader.load(new URLRequest(url));			loader.contentLoaderInfo.addEventListener(Event.COMPLETE, onLoadedImage);			loader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, Utils.onIOError);		}				private function onLoadedImage(e:Event):void {			image.addChild(Bitmap(LoaderInfo(e.target).content));		}     								/*********		 * EVENTS		 *********/				private function initEvents():void {			addEventListener(MouseEvent.CLICK, onClickColorBox);		}				private function onClickColorBox(e:Event):void {			var thumb:ThumbProduct = ThumbProduct(this.parent.parent);			thumb.currentProduct = product;			thumb.initViews();			thumb.onClickThumb();		}			}}